<div class="overlay" *ngIf="loading">
    <p-progressSpinner></p-progressSpinner>
</div>

<div class="grid">
    <div class="col-12">
        <div class="card">
            <p-panel>

                <ng-template pTemplate="header">
                    <div class="p-inputgroup">
                        <span><strong>Kullanıcı Arama</strong></span>
                    </div>

                    <div class="col-4 p-inputgroup p-0">
                        <span class="p-inputgroup-addon">
                            <i class="pi pi-search"></i>
                        </span>
                        <input pInputText type="text" placeholder="İsim ile arama..." [(ngModel)]="searchText" />
                    </div>
                </ng-template>
                <div class="grid">
                    <div class="col-12 md:col-4 lg:col-3" *ngFor="let user of filteredUsers()">
                        <div (click)="goToDetail(user)" class="user-card-link" style="cursor: pointer;"> <p-card
                                class="user-card" styleClass="p-card-shadow">
                                <ng-template pTemplate="header">
                                    <p-avatar label="{{ user.name.charAt(0) }}" shape="circle" class="mr-2" style="
                                        background-color: #3f51b5;
                                        color: white;
                                    "></p-avatar>
                                    Kullanıcı Kartı
                                </ng-template>

                                <div><strong>İsim:</strong> {{ user.name }}</div>
                                <div><strong>E-posta:</strong> {{ user.email }}</div>
                                <div>
                                    <strong>Şehir:</strong>
                                    {{ user.address.city }}
                                </div>
                                <div>
                                    <strong>Şirket:</strong>
                                    {{ user.company.name }}
                                </div>
                            </p-card>
                        </div>
                    </div>
                </div>
            </p-panel>
        </div>
    </div>
</div>